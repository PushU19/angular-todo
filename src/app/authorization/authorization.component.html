<div *ngIf="!(isAuth$ | async); else isNotAuth">
    <form (ngSubmit)="onSubmit($event)" [formGroup]="form" class="auth-form">
        <mat-form-field appearance="fill" class="full-width">
            <mat-label>Логин</mat-label>
            <input matInput type="text" [formControl]="usernameControl" required/>
            <mat-hint></mat-hint>
            <mat-error *ngIf="usernameControl.hasError('required')">
                Поле обязательно для заполения
            </mat-error>
            <mat-error *ngIf="usernameError$ | async">
                {{ usernameError$ | async }}
            </mat-error>
        </mat-form-field>
        <mat-form-field appearance="fill" class="full-width">
            <mat-label>Пароль</mat-label>
            <input matInput type="password" [formControl]="passwordControl" required/>
            <mat-hint></mat-hint>
            <mat-error *ngIf="passwordControl.hasError('required')">
                Поле обязательно для заполения
            </mat-error>
            <mat-error *ngIf="passwordError$ | async">
                {{ passwordError$ | async }}
            </mat-error>
        </mat-form-field>
        <button class="full-width" color="primary" mat-raised-button type="submit">
            Войти
        </button>
    </form>
</div>
<ng-template #isNotAuth>
    <div class="success-block">
        <div>Вы успешно авторизованы. Перейти на главную страницу?</div>
        <button (click)="redirectToMain()" mat-raised-button color="primary" class="redirect-button">На главную</button>
    </div>
</ng-template>
